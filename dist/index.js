module.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.w={},o(o.s=18)}([function(e,t,o){var n={".":2,"./":2,"./build":5,"./build.js":5,"./helpers":3,"./helpers.js":3,"./index":2,"./index.js":2,"./logger":1,"./logger.js":1,"./serve":4,"./serve.js":4};function r(e){var t=u(e);return o(t)}function u(e){var t=n[e];if(!(t+1)){var o=new Error('Cannot find module "'+e+'".');throw o.code="MODULE_NOT_FOUND",o}return t}r.keys=function(){return Object.keys(n)},r.resolve=u,e.exports=r,r.id=0},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(8).default({debugMode:process.env.DEBUG});t.default=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=o(3),u=o(1),a=(n=u)&&n.__esModule?n:{default:n};process.on("SIGINT",()=>{process.exit(0)}),t.default=((e={})=>(0,r.getPaths)(e).then(r.getArguments).then(r.getBootEnv).then(r.getCommandRunner).then(r.getPackageJson).then(r.getDefaultWebpackFileNames).then(r.getWebpackFileName).then(r.getWebpackConfig).then(e=>{let{commandRunner:t}=e;return t(function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["commandRunner"]))}).catch(e=>{a.default.error(e),process.exit(1)}))},function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getWebpackConfig=t.getWebpackFileName=t.getDefaultWebpackFileNames=t.getPackageJson=t.getCommandRunner=t.getArguments=t.getBootEnv=t.getPaths=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=g(o(17)),u=g(o(16)),a=g(o(15)),s=g(o(14)),i=g(o(13)),l=g(o(12)),c=g(o(11)),f=g(o(10)),d=g(o(9)),p=g(o(1));function g(e){return e&&e.__esModule?e:{default:e}}t.getPaths=((t={})=>{p.default.info("Getting paths...");const o=u.default.resolve(e,".."),r=u.default.join(o,"node_modules"),a=u.default.resolve(process.cwd()),s={boot:{root:o,modules:r,src:u.default.join(o,"src"),webpack:u.default.join(o,"webpack")},process:{root:a,modules:u.default.join(a,"node_modules"),src:u.default.join(a,"src"),boot:u.default.join(a,".boot"),webpack:u.default.join(a,".boot","webpack")}};return p.default.debug(s),Promise.resolve(n({},t,{path:s}))}),t.getBootEnv=((e={})=>{p.default.info("Getting boot environment variables...");const t=(0,l.default)((0,c.default)(process.env,(e,t)=>t.indexOf("BOOT_")>=0),(e,t,o)=>(e[o.replace("BOOT_","")]=t,e),{});return p.default.warn('NODE_ENV is not defined! Assuming "production"...'),t.NODE_ENV="production",t.DEBUG=!1==!process.env.DEBUG||"production"!==t.NODE_ENV,t.PUBLIC_PATH=process.env.PUBLIC_PATH||"/",p.default.debug(t),Promise.resolve(n({},e,{env:t}))}),t.getArguments=((e={})=>{p.default.info("Getting boot arguments...");const t=(0,d.default)((0,i.default)(process.argv),2),o=(0,l.default)((0,f.default)(t,e=>0===e.indexOf("-")),(e,t)=>{const o=t.match(/--?([^=]+)=?(.*)/);return e[o[1]]=o[2]||!0,e},{}),r=n({command:t[0],type:t[1]},o);return p.default.debug(r),Promise.resolve(n({},e,{args:r}))}),t.getCommandRunner=(e=>{p.default.info("Getting command runner...");const t=e.path.boot.src,r=u.default.join(t,`${e.args.command}.js`),a=o(0)(`${r}`).default;return p.default.debug(r,a),Promise.resolve(n({},e,{commandRunner:a}))}),t.getPackageJson=((e={})=>{p.default.info("Getting packages json...");const{boot:t,process:r}=e.path,a=u.default.join(t.root,"package.json"),s=o(0)(`${a}`),i=u.default.join(r.root,"package.json"),l={boot:s,process:o(0)(`${i}`)};return p.default.debug(l),Promise.resolve(n({},e,{packageJson:l}))}),t.getDefaultWebpackFileNames=((e={})=>{p.default.info("Getting default webpack file names...");const{boot:{webpack:t}}=e.path,o={common:u.default.join(t,"common.js"),node:u.default.join(t,"node.js"),umd:u.default.join(t,"umd.js"),web:{common:u.default.join(t,"web","common.js"),debug:u.default.join(t,"web","debug.js"),release:u.default.join(t,"web","release.js")}};return p.default.debug(o),Promise.resolve(n({},e,{webpackFiles:o}))});const b=e=>new Promise((t,o)=>{r.default.access(e,r.default.constants.R_OK,n=>{n?o(n):t(e)})});t.getWebpackFileName=((e={})=>{p.default.info(`Getting webpack file name by type "${e.args.type}"...`);const{path:{process:t},webpackFiles:o,args:{type:r}}=e;return new Promise((s,i)=>{b(r).catch(()=>b(u.default.resolve(t.root,r))).catch(()=>b(u.default.resolve(t.boot,"webpack",`${r}.js`))).catch(()=>(0,a.default)(r)(o)).then(t=>{p.default.debug(t),s(n({},e,{webpackFile:t}))}).catch(()=>i(new Error(`Invalid type "${r}"`)))})}),t.getWebpackConfig=((e={})=>{p.default.info(`Getting webpack config from file "${e.webpackFile}"...`);let t=o(0)(`${e.webpackFile}`);return"function"==typeof t&&(t=t((0,s.default)(e))),p.default.debug(t),Promise.resolve(n({},e,{webpackConfig:t}))})}).call(this,"/")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(({webpackFile:e})=>new Promise((t,n)=>{let r=o(0)(`${e}`);console.log(r),t()}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o(7)),r=a(o(6)),u=a(o(1));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(({webpackConfig:e,env:t})=>new Promise((o,a)=>{u.default.info("Building..."),(0,r.default)(e.output.path,{},r=>{r?a(r):(0,n.default)(e,(n,r)=>{n||r.hasErrors()?a(n):(u.default.info(r.toString({colors:t.DEBUG})),o(e))})})}))},function(e,t){e.exports=require("rimraf")},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("@fiuzagr/logger")},function(e,t){e.exports=require("lodash/slice")},function(e,t){e.exports=require("lodash/remove")},function(e,t){e.exports=require("lodash/filter")},function(e,t){e.exports=require("lodash/reduce")},function(e,t){e.exports=require("lodash/clone")},function(e,t){e.exports=require("lodash/cloneDeep")},function(e,t){e.exports=require("lodash/property")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,o){e.exports=o(2)}]);